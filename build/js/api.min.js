!function(e){e(function(){let t="";e("body").on("click",".new-quote-button",function(o){o.preventDefault(),t=document.URL,e.ajax({method:"get",url:api_vars.root_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1",cache:!1}).done(function(t){const o=t.shift(),n=o.content.rendered,s=o.title.rendered,u=o._qod_quote_source,r=o._qod_quote_source_url;o.link;e(".entry-content").html(n),e(".entry-meta").html('<h2 class="entry-title">â€“ '+s+"</h2>"),e(".source").html(', <a class="source-url" href="'+r+'">'+u+"</a>"),history.pushState(null,null,o.link)})}),e(window).on("popstate",function(){window.location.replace(t)})}),e(function(){e("#submit-form").on("submit",function(t){t.preventDefault();const o={title:e("#author-name-field").val(),content:e("#quote-content-field").val(),_qod_quote_source:e("#quote-source-field").val(),_qod_quote_source_url:e("#quote-url-field").val(),post_status:"pending"};e.ajax({method:"POST",url:api_vars.root_url+"wp/v2/posts",data:o,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",api_vars.nonce)}}).done(function(t,o,n){e("#submit-form").slideUp().find('textarea, input[type="submit"], input[type="text"]').val(""),201===n.status&&(e(".sorry-message").hide(),e(".success-message").text(api_vars.success))}).fail(function(){e(".sorry-message").text(api_vars.failure)})})})}(jQuery);